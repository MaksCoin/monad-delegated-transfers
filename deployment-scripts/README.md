# Delegation Framework Deployment Scripts

This directory contains all the necessary files and Foundry scripts to deploy the MetaMask Delegation Framework contracts to the Monad Testnet.

The smart contract addresses generated by these scripts are used in the main frontend application.

## Deployed Contracts (Monad Testnet, Chain ID 10143)

The following contracts were successfully deployed using the scripts in this directory. The transaction logs and final addresses can be found in the `/broadcast` folder.

- **DelegationManager**: `0xFA90aEBb2fF807110bCC87Df7409d8620b31Db4D`
- **HybridDeleGatorImpl**: `0x43fDFaD85Bb8b869718771b5827682af0E0d71D0`
- **MultiSigDeleGatorImpl**: `0xf11eE75CC77eCB0a34D5a657B7eB94C6D0f620c7`
- **EntryPoint**: `0x0000000071727De22E5E9d8BAf0edAc6f37da032`

### Deployed Enforcers

- **TimestampEnforcer** (for delays): `0xeDb50A2eBAE418A4e7Cc44f5d5b233CB2eb318bF`
- **NativeTokenTransferAmountEnforcer** (for MON): `0x94Cc25F0d8C20EB22820a1a8b5EDEb104c6DB5Ff`
- **ERC20TransferAmountEnforcer**: `0xb60F9B98dF4CAe55A55151EDD5b303fEfc9b0964`
- ... *(and 30+ other enforcers listed in the broadcast logs)*

## How to Re-deploy

### Prerequisites
- [Foundry (Forge & Anvil)](https://getfoundry.sh/) installed.
- An `.env` file in the root of the repository with `MONAD_RPC_URL` and `PRIVATE_KEY` variables.

### Steps
1.  **Deploy the core framework:**
    ```bash
    forge script script/DeployDelegationFramework.s.sol:DeployDelegationFramework --rpc-url $MONAD_RPC_URL --private-key $PRIVATE_KEY --broadcast --chain-id 10143
    ```

2.  **Deploy the caveat enforcers:** After the first script succeeds, update your `.env` file with the new `DELEGATION_MANAGER_ADDRESS`. Then, run the enforcer deployment script:
    ```bash
    forge script script/DeployCaveatEnforcers.s.sol:DeployCaveatEnforcers --rpc-url $MONAD_RPC_URL --private-key $PRIVATE_KEY --broadcast --chain-id 10143
    ```
